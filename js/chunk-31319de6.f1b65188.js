(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-31319de6"],{"0cb2":function(t,e,n){var o=n("e330"),c=n("7b0b"),a=Math.floor,r=o("".charAt),i=o("".replace),s=o("".slice),l=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,u=/\$([$&'`]|\d{1,2})/g;t.exports=function(t,e,n,o,d,f){var p=n+t.length,h=o.length,b=u;return void 0!==d&&(d=c(d),b=l),i(f,b,(function(c,i){var l;switch(r(i,0)){case"$":return"$";case"&":return t;case"`":return s(e,0,n);case"'":return s(e,p);case"<":l=d[s(i,1,-1)];break;default:var u=+i;if(0===u)return c;if(u>h){var f=a(u/10);return 0===f?c:f<=h?void 0===o[f-1]?r(i,1):o[f-1]+r(i,1):c}l=o[u-1]}return void 0===l?"":l}))}},"107c":function(t,e,n){var o=n("d039"),c=n("da84"),a=c.RegExp;t.exports=o((function(){var t=a("(?<a>b)","g");return"b"!==t.exec("b").groups.a||"bc"!=="b".replace(t,"$<a>c")}))},"14c3":function(t,e,n){var o=n("da84"),c=n("c65b"),a=n("825a"),r=n("1626"),i=n("c6b6"),s=n("9263"),l=o.TypeError;t.exports=function(t,e){var n=t.exec;if(r(n)){var o=c(n,t,e);return null!==o&&a(o),o}if("RegExp"===i(t))return c(s,t,e);throw l("RegExp#exec called on incompatible receiver")}},"159b":function(t,e,n){var o=n("da84"),c=n("fdbc"),a=n("785a"),r=n("17c2"),i=n("9112"),s=function(t){if(t&&t.forEach!==r)try{i(t,"forEach",r)}catch(e){t.forEach=r}};for(var l in c)c[l]&&s(o[l]&&o[l].prototype);s(a)},"17c2":function(t,e,n){"use strict";var o=n("b727").forEach,c=n("a640"),a=c("forEach");t.exports=a?[].forEach:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}},"4de4":function(t,e,n){"use strict";var o=n("23e7"),c=n("b727").filter,a=n("1dde"),r=a("filter");o({target:"Array",proto:!0,forced:!r},{filter:function(t){return c(this,t,arguments.length>1?arguments[1]:void 0)}})},5319:function(t,e,n){"use strict";var o=n("2ba4"),c=n("c65b"),a=n("e330"),r=n("d784"),i=n("d039"),s=n("825a"),l=n("1626"),u=n("5926"),d=n("50c4"),f=n("577e"),p=n("1d80"),h=n("8aa5"),b=n("dc4a"),g=n("0cb2"),v=n("14c3"),m=n("b622"),x=m("replace"),O=Math.max,j=Math.min,y=a([].concat),k=a([].push),w=a("".indexOf),T=a("".slice),$=function(t){return void 0===t?t:String(t)},E=function(){return"$0"==="a".replace(/./,"$0")}(),I=function(){return!!/./[x]&&""===/./[x]("a","$0")}(),C=!i((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}));r("replace",(function(t,e,n){var a=I?"$":"$0";return[function(t,n){var o=p(this),a=void 0==t?void 0:b(t,x);return a?c(a,t,o,n):c(e,f(o),t,n)},function(t,c){var r=s(this),i=f(t);if("string"==typeof c&&-1===w(c,a)&&-1===w(c,"$<")){var p=n(e,r,i,c);if(p.done)return p.value}var b=l(c);b||(c=f(c));var m=r.global;if(m){var x=r.unicode;r.lastIndex=0}var E=[];while(1){var I=v(r,i);if(null===I)break;if(k(E,I),!m)break;var C=f(I[0]);""===C&&(r.lastIndex=h(i,d(r.lastIndex),x))}for(var R="",S=0,A=0;A<E.length;A++){I=E[A];for(var M=f(I[0]),_=O(j(u(I.index),i.length),0),L=[],N=1;N<I.length;N++)k(L,$(I[N]));var D=I.groups;if(b){var U=y([M],L,_,i);void 0!==D&&k(U,D);var B=f(o(c,void 0,U))}else B=g(M,i,_,L,D,c);_>=S&&(R+=T(i,S,_)+B,S=_+M.length)}return R+T(i,S)}]}),!C||!E||I)},"8aa5":function(t,e,n){"use strict";var o=n("6547").charAt;t.exports=function(t,e,n){return e+(n?o(t,e).length:1)}},9263:function(t,e,n){"use strict";var o=n("c65b"),c=n("e330"),a=n("577e"),r=n("ad6d"),i=n("9f7f"),s=n("5692"),l=n("7c73"),u=n("69f3").get,d=n("fce3"),f=n("107c"),p=s("native-string-replace",String.prototype.replace),h=RegExp.prototype.exec,b=h,g=c("".charAt),v=c("".indexOf),m=c("".replace),x=c("".slice),O=function(){var t=/a/,e=/b*/g;return o(h,t,"a"),o(h,e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),j=i.BROKEN_CARET,y=void 0!==/()??/.exec("")[1],k=O||y||j||d||f;k&&(b=function(t){var e,n,c,i,s,d,f,k=this,w=u(k),T=a(t),$=w.raw;if($)return $.lastIndex=k.lastIndex,e=o(b,$,T),k.lastIndex=$.lastIndex,e;var E=w.groups,I=j&&k.sticky,C=o(r,k),R=k.source,S=0,A=T;if(I&&(C=m(C,"y",""),-1===v(C,"g")&&(C+="g"),A=x(T,k.lastIndex),k.lastIndex>0&&(!k.multiline||k.multiline&&"\n"!==g(T,k.lastIndex-1))&&(R="(?: "+R+")",A=" "+A,S++),n=new RegExp("^(?:"+R+")",C)),y&&(n=new RegExp("^"+R+"$(?!\\s)",C)),O&&(c=k.lastIndex),i=o(h,I?n:k,A),I?i?(i.input=x(i.input,S),i[0]=x(i[0],S),i.index=k.lastIndex,k.lastIndex+=i[0].length):k.lastIndex=0:O&&i&&(k.lastIndex=k.global?i.index+i[0].length:c),y&&i&&i.length>1&&o(p,i[0],n,(function(){for(s=1;s<arguments.length-2;s++)void 0===arguments[s]&&(i[s]=void 0)})),i&&E)for(i.groups=d=l(null),s=0;s<E.length;s++)f=E[s],d[f[0]]=i[f[1]];return i}),t.exports=b},"99af":function(t,e,n){"use strict";var o=n("23e7"),c=n("da84"),a=n("d039"),r=n("e8b5"),i=n("861d"),s=n("7b0b"),l=n("07fa"),u=n("8418"),d=n("65f0"),f=n("1dde"),p=n("b622"),h=n("2d00"),b=p("isConcatSpreadable"),g=9007199254740991,v="Maximum allowed index exceeded",m=c.TypeError,x=h>=51||!a((function(){var t=[];return t[b]=!1,t.concat()[0]!==t})),O=f("concat"),j=function(t){if(!i(t))return!1;var e=t[b];return void 0!==e?!!e:r(t)},y=!x||!O;o({target:"Array",proto:!0,arity:1,forced:y},{concat:function(t){var e,n,o,c,a,r=s(this),i=d(r,0),f=0;for(e=-1,o=arguments.length;e<o;e++)if(a=-1===e?r:arguments[e],j(a)){if(c=l(a),f+c>g)throw m(v);for(n=0;n<c;n++,f++)n in a&&u(i,f,a[n])}else{if(f>=g)throw m(v);u(i,f++,a)}return i.length=f,i}})},"9f7f":function(t,e,n){var o=n("d039"),c=n("da84"),a=c.RegExp,r=o((function(){var t=a("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),i=r||o((function(){return!a("a","y").sticky})),s=r||o((function(){var t=a("^r","gy");return t.lastIndex=2,null!=t.exec("str")}));t.exports={BROKEN_CARET:s,MISSED_STICKY:i,UNSUPPORTED_Y:r}},a3b3:function(t,e,n){"use strict";n.r(e);var o=n("7a23"),c={class:"container"},a={class:"sticky-top d-flex justify-content-between align-items-center bg-secondary py-3"},r=Object(o["f"])("h1",{class:"fs-4 fw-bold"},[Object(o["f"])("span",{class:"material-icons-outlined logo-icon fs-7 fw-bold align-middle text-primary me-2"}," check_box "),Object(o["f"])("span",null,"ONLINE TODO LIST")],-1),i={class:"d-none d-md-block fw-bold ms-auto"},s={class:"d-flex flex-column align-items-center py-3 py-md-5"},l={class:"input-group w-100 w-lg-50 mb-3"},u={key:0,class:"card w-100 w-lg-50"},d={class:"d-flex justify-content-evenly"},f={class:"w-100"},p=Object(o["g"])(" 全部 "),h={class:"badge rounded-pill bg-light ms-1"},b={class:"w-100"},g=Object(o["g"])(" 待完成 "),v={class:"badge rounded-pill bg-light ms-1"},m={class:"w-100"},x=Object(o["g"])(" 已完成 "),O={class:"badge rounded-pill bg-light ms-1"},j={class:"p-4 pb-0"},y={class:"form-check d-flex align-items-center w-80 m-0 px-0"},k=["id","checked","onChange"],w=["for"],T={class:"fw-medium"},$={key:1,class:"input-group"},E=["onUpdate:modelValue"],I=["onClick"],C=Object(o["f"])("span",{class:"material-icons-outlined text-light align-middle"},"save",-1),R=[C],S=["for"],A={class:"d-flex justify-content-end align-items-center w-25 ms-auto"},M=["onClick"],_=Object(o["f"])("span",{class:"material-icons-outlined align-middle"},"edit",-1),L=[_],N=["onClick"],D={class:"text-end p-4"},U={key:1,class:"p-3"},B=Object(o["f"])("p",{class:"fs-4 fw-bold text-center mb-4"},"目前無待辦事項",-1),F=Object(o["f"])("div",{class:"d-none d-md-block sec-icon"},null,-1),J=[B,F];function K(t,e,n,C,_,B){return Object(o["r"])(),Object(o["e"])("div",c,[Object(o["f"])("header",a,[r,Object(o["f"])("p",i,Object(o["y"])(_.userData.nickname)+" 的待辦清單 ",1),Object(o["f"])("button",{type:"button",class:"btn ms-3",onClick:e[0]||(e[0]=function(){return B.logout&&B.logout.apply(B,arguments)})},"登出")]),Object(o["f"])("section",s,[Object(o["f"])("div",l,[Object(o["D"])(Object(o["f"])("input",{type:"text",class:"form-control",placeholder:"新增待辦事項","onUpdate:modelValue":e[1]||(e[1]=function(t){return _.todo=t})},null,512),[[o["A"],_.todo]]),Object(o["f"])("button",{class:"btn btn-primary text-white fs-4 fw-bold px-4 px-lg-3",type:"button",onClick:e[2]||(e[2]=function(){return B.addTodo&&B.addTodo.apply(B,arguments)})}," + ")]),0!==_.todoList.length?(Object(o["r"])(),Object(o["e"])("div",u,[Object(o["f"])("ul",d,[Object(o["f"])("li",f,[Object(o["f"])("button",{type:"button",class:Object(o["n"])(["btn btn-tab w-100 py-3",{active:"all"===_.pageStatus}]),onClick:e[3]||(e[3]=function(t){return B.changeTab("all")})},[p,Object(o["f"])("span",h,Object(o["y"])(_.todoList.length),1)],2)]),Object(o["f"])("li",b,[Object(o["f"])("button",{type:"button",class:Object(o["n"])(["btn btn-tab w-100 py-3",{active:"work"===_.pageStatus}]),onClick:e[4]||(e[4]=function(t){return B.changeTab("work")})},[g,Object(o["f"])("span",v,Object(o["y"])(_.unfinishedNum),1)],2)]),Object(o["f"])("li",m,[Object(o["f"])("button",{type:"button",class:Object(o["n"])(["btn btn-tab w-100 py-3",{active:"done"===_.pageStatus}]),onClick:e[5]||(e[5]=function(t){return B.changeTab("done")})},[x,Object(o["f"])("span",O,Object(o["y"])(_.todoList.length-_.unfinishedNum),1)],2)])]),Object(o["f"])("ul",j,[(Object(o["r"])(!0),Object(o["e"])(o["a"],null,Object(o["v"])(_.filterTodos,(function(t){return Object(o["r"])(),Object(o["e"])("li",{key:t,class:"d-flex border-bottom py-3 mb-2"},[Object(o["f"])("div",y,[Object(o["f"])("input",{class:"form-check-input fs-5 m-0",type:"checkbox",id:t.id,checked:t.completed_at,onChange:function(e){return B.toggleTodo(t.id)}},null,40,k),t.completed_at?(Object(o["r"])(),Object(o["e"])("label",{key:0,class:Object(o["n"])(["form-check-label w-90 px-3",{"text-light":t.completed_at}]),for:t.id},[Object(o["f"])("del",T,Object(o["y"])(t.content),1)],10,w)):_.isEdit===t.id?(Object(o["r"])(),Object(o["e"])("div",$,[Object(o["D"])(Object(o["f"])("input",{type:"text",class:"form-control border-end-0 ms-2","onUpdate:modelValue":function(e){return t.content=e}},null,8,E),[[o["A"],t.content]]),Object(o["f"])("button",{type:"button",class:"btn border border-start-0",onClick:function(e){return B.editTodo(t)}},R,8,I)])):(Object(o["r"])(),Object(o["e"])("label",{key:2,class:Object(o["n"])(["form-check-label fw-medium w-90 px-3",{"text-light":t.completed_at}]),for:t.id},Object(o["y"])(t.content),11,S))]),Object(o["f"])("div",A,[t.completed_at?Object(o["d"])("",!0):(Object(o["r"])(),Object(o["e"])("a",{key:0,href:"#",class:"btn border-0 fw-medium text-light p-0 me-3",onClick:Object(o["E"])((function(e){return B.openEdit(t.id)}),["prevent"])},L,8,M)),Object(o["f"])("a",{href:"#",class:"btn border-0 fw-medium fs-4 text-light p-0",onClick:Object(o["E"])((function(e){return B.deleteTodo(t.id)}),["prevent"])},"X",8,N)])])})),128))]),Object(o["f"])("div",D,[Object(o["f"])("button",{type:"button",class:"btn text-light p-0",onClick:e[6]||(e[6]=function(){return B.deleteAllFinishedTodo&&B.deleteAllFinishedTodo.apply(B,arguments)})}," 清除已完成項目 ")])])):(Object(o["r"])(),Object(o["e"])("div",U,J))])])}n("4de4"),n("d3b7"),n("99af"),n("159b"),n("ac1f"),n("5319");var V={data:function(){return{myToken:"",userData:JSON.parse(localStorage.getItem("userData"))||[],todoList:[],unfinishedNum:[],filterTodos:[],todo:"",pageStatus:"all",isEdit:!1}},methods:{checkUser:function(){var t=this;this.myToken?(this.$http.defaults.headers.common.Authorization=this.myToken,this.$http.get("".concat("https://todoo.5xcamp.us","/check")).then((function(){t.getTodos()})).catch((function(){t.$httpMessage({message:"使用者錯誤"}),t.$router.push("/")}))):(this.$httpMessage({message:"使用者錯誤"}),this.$router.push("/"))},logout:function(){var t=this;this.$http.delete("".concat("https://todoo.5xcamp.us","/users/sign_out")).then((function(){t.$router.push("/")})).catch((function(e){t.$httpMessage(e.response.data)}))},getTodos:function(){var t=this;this.$http.get("".concat("https://todoo.5xcamp.us","/todos")).then((function(e){t.todoList=e.data.todos,t.unfinishedNum=t.todoList.filter((function(t){return null===t.completed_at})).length,t.changeTab()})).catch((function(e){t.$httpMessage(e.response.data)}))},addTodo:function(){var t=this,e={content:this.todo};this.$http.post("".concat("https://todoo.5xcamp.us","/todos"),{todo:e}).then((function(){t.todo="",t.getTodos()})).catch((function(){t.$httpMessage({message:"新增失敗"})}))},deleteTodo:function(t){var e=this;this.$http.delete("".concat("https://todoo.5xcamp.us","/todos/").concat(t)).then((function(){e.getTodos()})).catch((function(){e.$httpMessage({message:"刪除失敗"})}))},toggleTodo:function(t){var e=this;this.$http.patch("".concat("https://todoo.5xcamp.us","/todos/").concat(t,"/toggle"),{}).then((function(){e.getTodos()})).catch((function(){e.$httpMessage({message:"操作失敗"})}))},changeTab:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all";this.pageStatus=t,"all"===t?this.filterTodos=this.todoList:"work"===t?this.filterTodos=this.todoList.filter((function(t){return null===t.completed_at})):"done"===t&&(this.filterTodos=this.todoList.filter((function(t){return!0===Boolean(t.completed_at)})))},deleteAllFinishedTodo:function(){var t=this;this.todoList.length-this.unfinishedNum!==0?this.todoList.forEach((function(e){e.completed_at&&t.$http.delete("".concat("https://todoo.5xcamp.us","/todos/").concat(e.id)).then((function(){t.getTodos()})).catch((function(){t.$httpMessage({message:"刪除失敗"})}))})):this.$httpMessage({message:"無已完成的項目"})},openEdit:function(t){this.isEdit?this.isEdit=!1:this.isEdit=t},editTodo:function(t){var e=this,n={todo:{content:t.content}};this.$http.put("".concat("https://todoo.5xcamp.us","/todos/").concat(t.id),n).then((function(){e.isEdit=!1,e.getTodos()})).catch((function(){e.$httpMessage({message:"修改失敗"})}))}},mounted:function(){this.myToken=document.cookie.replace(/(?:(?:^|.*;\s*)gillToken\s*=\s*([^;]*).*$)|^.*$/,"$1"),this.checkUser()}},P=n("6b0d"),Y=n.n(P);const z=Y()(V,[["render",K]]);e["default"]=z},a640:function(t,e,n){"use strict";var o=n("d039");t.exports=function(t,e){var n=[][t];return!!n&&o((function(){n.call(null,e||function(){return 1},1)}))}},ac1f:function(t,e,n){"use strict";var o=n("23e7"),c=n("9263");o({target:"RegExp",proto:!0,forced:/./.exec!==c},{exec:c})},ad6d:function(t,e,n){"use strict";var o=n("825a");t.exports=function(){var t=o(this),e="";return t.hasIndices&&(e+="d"),t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},b727:function(t,e,n){var o=n("0366"),c=n("e330"),a=n("44ad"),r=n("7b0b"),i=n("07fa"),s=n("65f0"),l=c([].push),u=function(t){var e=1==t,n=2==t,c=3==t,u=4==t,d=6==t,f=7==t,p=5==t||d;return function(h,b,g,v){for(var m,x,O=r(h),j=a(O),y=o(b,g),k=i(j),w=0,T=v||s,$=e?T(h,k):n||f?T(h,0):void 0;k>w;w++)if((p||w in j)&&(m=j[w],x=y(m,w,O),t))if(e)$[w]=x;else if(x)switch(t){case 3:return!0;case 5:return m;case 6:return w;case 2:l($,m)}else switch(t){case 4:return!1;case 7:l($,m)}return d?-1:c||u?u:$}};t.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6),filterReject:u(7)}},d784:function(t,e,n){"use strict";n("ac1f");var o=n("e330"),c=n("cb2d"),a=n("9263"),r=n("d039"),i=n("b622"),s=n("9112"),l=i("species"),u=RegExp.prototype;t.exports=function(t,e,n,d){var f=i(t),p=!r((function(){var e={};return e[f]=function(){return 7},7!=""[t](e)})),h=p&&!r((function(){var e=!1,n=/a/;return"split"===t&&(n={},n.constructor={},n.constructor[l]=function(){return n},n.flags="",n[f]=/./[f]),n.exec=function(){return e=!0,null},n[f](""),!e}));if(!p||!h||n){var b=o(/./[f]),g=e(f,""[t],(function(t,e,n,c,r){var i=o(t),s=e.exec;return s===a||s===u.exec?p&&!r?{done:!0,value:b(e,n,c)}:{done:!0,value:i(n,e,c)}:{done:!1}}));c(String.prototype,t,g[0]),c(u,f,g[1])}d&&s(u[f],"sham",!0)}},fce3:function(t,e,n){var o=n("d039"),c=n("da84"),a=c.RegExp;t.exports=o((function(){var t=a(".","s");return!(t.dotAll&&t.exec("\n")&&"s"===t.flags)}))}}]);
//# sourceMappingURL=chunk-31319de6.f1b65188.js.map